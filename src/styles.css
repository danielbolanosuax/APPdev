@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   SMARTPANTRY – CONSUMER UI THEME (v4)
   ========================================================= */

/* ===================== TOKENS (dark base) ===================== */
:root {
  --color-bg: #0b1217;
  --color-bg-2: #0d151c;
  --color-surface: rgba(255, 255, 255, 0.08);
  --color-surface-2: rgba(255, 255, 255, 0.06);
  --color-surface-3: rgba(255, 255, 255, 0.04);
  --color-text: #e6edf3;
  --color-muted: #97a3b6;

  --brand: #18a94d;     /* más fresco */
  --brand-600: #159043;
  --brand-700: #166534;

  --success: #10b981;
  --warning: #f59e0b;
  --danger:  #ef4444;
  --info:    #60a5fa;

  --shadow-soft: 0 10px 25px rgba(0,0,0,.22);
  --shadow-elev: 0 26px 60px rgba(0,0,0,.30);

  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 22px;
  --r-xl: 30px;

  --ring: 24 169 77; /* rgb focus ring */
  --blur: 12px;

  --font: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;

  --bg-grad:
    radial-gradient(1100px 600px at 18% -8%, #18a94d22, transparent 60%),
    radial-gradient(900px 500px at 100% 10%, #22c55e18, transparent 50%),
    var(--color-bg);
}

/* ===================== Tema CLARO (alto contraste retail) ===================== */
html.light {
  --color-bg: #ffffff;
  --color-bg-2: #f7fafc;
  --color-surface: #ffffff;
  --color-surface-2: #f8fafc;
  --color-surface-3: #eef2f7;

  --color-text: #0b1220;
  --color-muted: #334155; /* gris oscuro legible */

  --brand: #16a34a;
  --brand-600: #159043;
  --brand-700: #166534;

  --bg-grad:
    radial-gradient(900px 520px at 0% -12%, #16a34a14, transparent 60%),
    radial-gradient(800px 520px at 120% -10%, #22c55e12, transparent 60%),
    #ffffff;
}

/* Texto global fuerte en light */
html.light body,
html.light p,
html.light li,
html.light label,
html.light input,
html.light select,
html.light button,
html.light span,
html.light small {
  color: var(--color-text);
}

/* ===================== BASE ===================== */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }

body {
  background: var(--bg-grad);
  color: var(--color-text);
  font-family: var(--font);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 16px;
}

h1,h2,h3 { letter-spacing: .1px; }
.section-title { font-size: 18px; font-weight: 800; display:flex; align-items:center; gap:.5rem; }

::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,.18); border-radius: 999px; }
html:not(.light) ::-webkit-scrollbar-thumb { background: rgba(255,255,255,.25); }

:where(button,a,input,select,textarea,[role="button"]):focus-visible {
  outline: none;
  box-shadow: 0 0 0 4px rgba(var(--ring), .35), inset 0 0 0 1px rgba(var(--ring), .65);
  border-color: rgba(var(--ring), .65);
}

/* ===================== CARDS / SURFACES ===================== */
.sp-card {
  background: var(--color-surface);
  backdrop-filter: saturate(118%) blur(var(--blur));
  border: 1px solid rgba(0,0,0,.06);
  border-radius: var(--r-md);
  box-shadow: var(--shadow-soft);
}
.sp-card-lg { border-radius: var(--r-lg); box-shadow: var(--shadow-elev); }
.sp-card-hover:hover { transform: translateY(-2px); box-shadow: var(--shadow-elev); }
.surface{ background: var(--color-surface); }
.surface-2{ background: var(--color-surface-2); }
.surface-3{ background: var(--color-surface-3); }
.border-subtle{ border:1px solid rgba(0,0,0,.08); }
html:not(.light) .border-subtle{ border:1px solid rgba(255,255,255,.12); }

/* ===================== BUTTONS ===================== */
.sp-btn {
  display: inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.7rem 1rem; font-weight:800;
  border-radius:14px; border:1px solid transparent; cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.sp-btn:disabled { opacity:.55; cursor:not-allowed; }
.sp-btn-primary {
  color: #062411;
  background: linear-gradient(180deg,#34d399 0%,#16a34a 100%);
  box-shadow: 0 14px 35px rgba(22,163,74,.28);
}
.sp-btn-primary:hover { transform: translateY(-1px); }
.sp-btn-ghost {
  color: var(--color-text);
  background: var(--color-surface-2);
  border:1px solid rgba(0,0,0,.08);
}
.btn-icon {
  display:inline-grid; place-items:center;
  width:42px; height:42px; border-radius:12px;
  background: var(--color-surface-2);
  border:1px solid rgba(0,0,0,.08);
}
.btn-icon:hover { background: var(--color-surface); }

/* ===================== FORMS ===================== */
.input, .select, .textarea, .search-input, .search-input-lg {
  width:100%; color:var(--color-text);
  background: var(--color-surface-2);
  border:1px solid rgba(0,0,0,.10);
  border-radius:14px; padding:.7rem .9rem;
  transition: border-color .15s, background-color .15s, box-shadow .15s;
}
.input:hover, .select:hover, .textarea:hover, .search-input:hover, .search-input-lg:hover { background: #fff; }
.search-input{ padding-left: 2.2rem; }
.search-input-lg{ padding-left: 2.4rem; }
.search-icon{ position:absolute; left:.65rem; top:50%; transform:translateY(-50%); width:18px; height:18px; color:var(--color-muted); }

/* ===================== BADGES ===================== */
.badge, .sp-chip {
  display:inline-flex; align-items:center; gap:.35rem; font-weight:700;
  padding:.28rem .6rem; border-radius:999px; font-size:12px;
  background: var(--color-surface-2); color: var(--color-muted);
  border:1px solid rgba(0,0,0,.08);
}
.badge.success { background: color-mix(in oklab, var(--success) 18%, transparent); color:#065f46; }
.badge.warn    { background: color-mix(in oklab, var(--warning) 18%, transparent); color:#7c2d12; }
.badge.info    { background: color-mix(in oklab, var(--info) 18%, transparent); color:#0c4a6e; }

/* ===================== KPI ===================== */
.kpi { border-radius:var(--r-lg); border:1px solid rgba(0,0,0,.08); background:var(--color-surface-2); padding:1rem; }
.kpi-title { color: var(--color-muted); font-size:.9rem; }
.kpi-value { font-weight:900; font-size:1.25rem; color: var(--brand); }

/* ===================== APP SHELL ===================== */
.app-shell {
  display: grid;
  grid-template-columns: 80px minmax(0,1fr);
  grid-template-rows: auto 1fr auto;
  min-height: 100dvh;
}
@media (min-width: 1024px) {
  .app-shell {
    grid-template-columns: 240px minmax(0,1fr);
  }
}

/* Header */
.app-header-pro {
  grid-column: 1 / -1;
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; padding: 14px 16px;
  position: sticky; top: 0; z-index: 20;
  background: color-mix(in oklab, var(--color-surface) 90%, #fff 10%);
  backdrop-filter: blur(10px) saturate(120%);
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.brand { display:flex; align-items:center; gap:.6rem; }
.logo-dot { width:28px; height:28px; border-radius:8px; background: color-mix(in oklab, var(--brand) 36%, #10b981 20%); box-shadow: 0 6px 16px rgba(22,163,74,.35); }
.brand-title { font-weight: 900; letter-spacing: .2px; }
.search-wrap { position: relative; flex: 1; max-width: 720px; }

/* Sidebar / Nav rail (desktop) */
.nav-rail {
  grid-row: 2 / span 1;
  position: sticky; top: 64px; align-self: start;
  display: none; flex-direction: column; gap: 6px;
  padding: 14px;
}
@media (min-width: 1024px) {
  .nav-rail { display: flex; }
}
.nav-rail-btn {
  display:flex; align-items:center; gap:.75rem;
  padding:.6rem .75rem; border-radius:14px;
  background: var(--color-surface-2);
  border:1px solid rgba(0,0,0,.08);
  font-weight: 800;
}
.nav-rail-btn .label { display: none; }
@media (min-width: 1024px) {
  .nav-rail-btn .label { display: inline; }
}
.nav-rail-btn.is-active {
  background: var(--brand);
  color:#062411;
  box-shadow: 0 10px 24px rgba(22,163,74,.28);
}

/* Main */
.app-main {
  padding: 18px;
  max-width: 1120px;
  width: 100%;
  justify-self: center;
}

/* Bottom nav (mobile) */
.bottom-nav-pro {
  grid-column: 1 / -1;
  position: sticky; bottom: 0;
  display: grid; grid-template-columns: repeat(5, 1fr);
  border-top: 1px solid rgba(0,0,0,.06);
  background: var(--color-surface);
  padding: 8px 8px calc(8px + env(safe-area-inset-bottom));
}
@media (min-width: 1024px) {
  .bottom-nav-pro { display: none; }
}
.bottom-nav-btn {
  display:flex; flex-direction:column; align-items:center; gap:4px;
  padding: 8px 0; font-size: 11px; font-weight: 800;
  color: var(--color-muted); border-radius:12px;
}
.bottom-nav-btn.is-active { color: var(--color-text); background: var(--color-surface-2); }

/* ===================== LIST / TABS (compat) ===================== */
.tabs { display:flex; gap:.5rem; background: var(--color-surface-3); padding:.35rem; border-radius:14px; border:1px solid rgba(0,0,0,.08); }
.tab { display:flex; align-items:center; justify-content:center; gap:.4rem; padding:.5rem .75rem; border-radius:12px; font-weight:800; font-size:14px; color:var(--color-text); }
.tab[aria-current="page"] { background: var(--brand); color:#08240f; box-shadow: 0 10px 24px rgba(34,197,94,.35); }

/* ===================== UTIL ===================== */
.text-muted{ color:var(--color-muted); }
.radius-sm{ border-radius:var(--r-sm); }
.radius-md{ border-radius:var(--r-md); }
.radius-lg{ border-radius:var(--r-lg); }
.radius-xl{ border-radius:var(--r-xl); }
.shadow-soft{ box-shadow:var(--shadow-soft); }
.shadow-elev{ box-shadow:var(--shadow-elev); }
.hover-lift:hover{ transform:translateY(-2px); box-shadow:var(--shadow-elev); }
