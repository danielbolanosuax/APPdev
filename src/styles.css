@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   SMARTPANTRY – PRO THEME v5
   ========================================================= */

/* ---------- Tokens (light por defecto) ---------- */
:root{
  --bg: #fbfcfe;
  --bg-2: #f2f5f8;
  --text: #0b1220;
  --muted:#5b667a;

  --surface-1:#ffffff;
  --surface-2:#f8fafc;
  --surface-3:#eef2f7;

  --brand:#16a34a;
  --brand-600:#159043;
  --brand-700:#166534;

  --success:#10b981;
  --warning:#f59e0b;
  --danger:#ef4444;
  --info:#3b82f6;

  --ring:22 163 74; /* focus ring */

  --r-sm:12px; --r-md:16px; --r-lg:22px; --r-xl:30px;
  --shadow-soft:0 10px 25px rgba(0,0,0,.08);
  --shadow-elev:0 28px 60px rgba(0,0,0,.12);

  --gradient-border: linear-gradient(180deg,#edf2f7, #ffffff);
  --goal-bg: color-mix(in oklab, var(--brand) 6%, #e5e7eb);
}

html,body,#root{height:100%}
body{
  background:
    radial-gradient(900px 520px at -10% -15%, color-mix(in oklab, var(--brand) 16%, transparent) 0, transparent 60%),
    var(--bg);
  color:var(--text);
  font-family:"Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}

/* Scrollbar */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border-radius:999px}

/* ---------- Focus ring ---------- */
:where(button,a,input,select,textarea,[role="button"]):focus-visible{
  outline:none;
  box-shadow:0 0 0 4px rgba(var(--ring),.25);
}

/* =========================================================
   APPSHELL (sidebar + header + bottom-nav) – compat
   ========================================================= */
.app-shell{display:grid;grid-template-columns:240px minmax(0,1fr);grid-template-rows:auto 1fr auto;min-height:100dvh}
@media (max-width:1023px){.app-shell{grid-template-columns:1fr}}
.app-header-pro{
  grid-column:1/-1;display:flex;align-items:center;gap:12px;justify-content:space-between;
  padding:12px 16px; position:sticky;top:0;z-index:30;
  background:var(--surface-1); border-bottom:1px solid #e7edf5; box-shadow:0 4px 16px rgba(0,0,0,.04);
}
.brand{display:flex;align-items:center;gap:.6rem}
.logo-dot{width:26px;height:26px;border-radius:9px;background: color-mix(in oklab, var(--brand) 35%, #10b981 10%);box-shadow:0 8px 20px rgba(22,163,74,.28)}
.brand-title{font-weight:900;letter-spacing:.2px}
.search-wrap{position:relative;flex:1;max-width:780px}
.search-input-lg{width:100%;background:var(--surface-2);border:1px solid #e6ebf2;border-radius:14px;padding:.7rem 1rem .7rem 2.3rem}
.search-icon{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);width:18px;height:18px;color:var(--muted)}

.nav-rail{display:flex;flex-direction:column;gap:8px;padding:14px;border-right:1px solid #e7edf5;background:var(--surface-1)}
@media (max-width:1023px){.nav-rail{display:none}}
.nav-rail-btn{display:flex;align-items:center;gap:.75rem;padding:.7rem .85rem;border-radius:14px;background:var(--surface-2);border:1px solid #e7edf5;font-weight:800}
.nav-rail-btn.is-active{background:var(--brand);color:#062411;box-shadow:0 12px 26px rgba(22,163,74,.28)}
.nav-rail-btn .label{display:inline}

.app-main{padding:18px;max-width:1120px;width:100%;justify-self:center}

.bottom-nav-pro{grid-column:1/-1;display:none}
@media (max-width:1023px){
  .bottom-nav-pro{display:grid;grid-template-columns:repeat(5,1fr);background:var(--surface-1);border-top:1px solid #e7edf5;padding:8px}
  .bottom-nav-btn{display:flex;flex-direction:column;gap:4px;align-items:center;font-size:11px;font-weight:800;color:var(--muted)}
  .bottom-nav-btn.is-active{color:var(--text)}
}

/* =========================================================
   BUTTONS / INPUTS – compat
   ========================================================= */
.sp-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.7rem 1rem;font-weight:800;border-radius:14px;border:1px solid transparent}
.sp-btn-primary{background:linear-gradient(180deg,#34d399 0%,#16a34a 100%);color:#062411;box-shadow:0 16px 35px rgba(22,163,74,.28)}
.sp-btn-ghost{background:var(--surface-2);border:1px solid #e6ebf2}
.btn-icon{display:inline-grid;place-items:center;width:42px;height:42px;border-radius:12px;background:var(--surface-2);border:1px solid #e6ebf2}

.input,.select,.search-input{width:100%;background:var(--surface-2);border:1px solid #e6ebf2;border-radius:14px;padding:.7rem .9rem}
.search-input{padding-left:2.1rem}

/* =========================================================
   CARDS / SECTIONS / TYPO
   ========================================================= */
.card-pro{
  background:var(--surface-1);
  border:1px solid #e7edf5;border-radius:20px;
  box-shadow:var(--shadow-soft);
  padding:16px;
}
.card-pro.hero{padding:18px 20px;background:
  linear-gradient(#fff 0,#fff 60%), 
  radial-gradient(500px 200px at 0 -40%, color-mix(in oklab,var(--brand) 14%, transparent), transparent 60%);
  background-blend-mode:normal;
}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:.6rem}
.card-title{display:flex;align-items:center;gap:.75rem}
.card-title h3{font-weight:900;letter-spacing:.2px}
.eyebrow{font-size:12px;color:var(--muted)}
.pill{font-size:12px;padding:.35rem .6rem;border-radius:999px;background:var(--surface-2);border:1px solid #e6ebf2;color:var(--muted)}
.ringed{display:inline-grid;place-items:center;width:36px;height:36px;border-radius:10px;background:var(--surface-2);border:1px solid #e6ebf2}
.divider{height:1px;background:#e7edf5;margin:.6rem 0}

/* grid editorial de analytics */
.analytics-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:14px;
}
.analytics-grid .span-2{grid-column:span 2}
@media (max-width: 860px){
  .analytics-grid{grid-template-columns:1fr}
  .analytics-grid .span-2{grid-column:span 1}
}

/* stat tile */
.stat{
  background:var(--surface-1);border:1px solid #e7edf5;border-radius:18px;padding:14px;
  display:flex;flex-direction:column;gap:4px; box-shadow:var(--shadow-soft);
}
.stat .stat-top{display:flex;align-items:center;gap:.6rem}
.stat .stat-value{font-size:26px;font-weight:900;color:var(--brand);line-height:1.1}
.stat .stat-note{font-size:12px;color:var(--muted)}
.stat.warn .stat-value{color:var(--danger)}

/* grids de contenido */
.grid-two{display:grid;grid-template-columns: 220px 1fr;gap:16px;align-items:center}
@media (max-width:700px){.grid-two{grid-template-columns:1fr}}

/* Donut */
.donut{position:relative;width:220px;height:220px}
.donut-ring{position:absolute;inset:0;border-radius:999px}
.donut-hole{position:absolute;inset:22px;border-radius:999px;background:var(--surface-1);border:1px solid #e7edf5;display:grid;place-items:center}
.donut-center{text-align:center}
.center-big{font-size:22px;font-weight:900;color:var(--brand)}

/* Legend */
.legend{display:grid;gap:8px}
.legend li{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center}
.legend-dot{width:10px;height:10px;border-radius:999px}
.legend-label{font-weight:700}
.legend-val{font-size:12px;color:var(--muted)}

/* Bars */
.bars{display:flex;gap:16px;align-items:flex-end}
.bar{display:grid;grid-template-rows: auto auto auto;justify-items:center;gap:6px}
.bar-fill{width:30px;border-radius:9px;background:linear-gradient(180deg,var(--brand) 0%, color-mix(in oklab,var(--brand) 50%, #0b1220) 100%)}
.bar-label{font-size:13px;font-weight:800}
.bar-value{font-size:12px;color:var(--muted)}

/* Spark area */
.spark{display:block}
.goal{position:relative;width:160px;height:160px}
.goal-ring{position:absolute;inset:0;border-radius:999px;background:conic-gradient(var(--brand) 0deg, var(--goal-bg) 0)}
.goal-hole{position:absolute;inset:18px;background:var(--surface-1);border:1px solid #e7edf5;border-radius:999px;display:grid;place-items:center}
.goal-center{text-align:center}
.goal-val{font-size:26px;font-weight:900;color:var(--brand)}
.goal-desc{font-weight:800;margin-bottom:.4rem}

/* risk list */
.risk{display:grid;gap:8px}
.risk li{display:flex;justify-content:space-between;align-items:center;padding:.4rem .6rem;border:1px dashed #e7edf5;border-radius:12px;background:var(--surface-2)}
.risk-name{font-weight:800}
.risk-status{font-size:12px;color:var(--danger)}
/* =========================================================
   SHOPPING – premium styles
   ========================================================= */

/* toolbar compacta */
.toolbar{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 12px}
.tool{display:flex;align-items:center;gap:8px}
.tool.checkbox{font-size:13px;color:var(--muted)}
.tool .tool-icon{width:16px;height:16px;color:var(--muted)}
.tool.search{position:relative;min-width:260px;flex:1}
.tool.search .search-input{padding-left:2.1rem}
.tool.search .tool-icon{position:absolute;left:.6rem;top:50%;transform:translateY(-50%)}

/* segments */
.seg-group{display:inline-flex;gap:6px;background:var(--surface-2);border:1px solid #e6ebf2;border-radius:12px;padding:4px}
.seg{padding:.35rem .6rem;border-radius:10px;font-weight:800;font-size:13px;color:var(--text)}
.seg[aria-checked="true"]{background:var(--brand);color:#062411;box-shadow:0 8px 18px rgba(22,163,74,.25)}

/* quick add sticky */
.sticky-add{position:sticky;top:10px;z-index:5;display:grid;grid-template-columns:1fr 100px 130px 150px 130px;gap:8px;margin-bottom:12px}
@media (max-width:860px){.sticky-add{grid-template-columns:1fr 1fr 1fr}}

.group-card{border:1px solid #e7edf5;border-radius:18px;background:var(--surface-1);box-shadow:var(--shadow-soft)}
.group-head{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #e7edf5}
.gh-title{font-weight:900}
.gh-meta{font-size:12px;color:var(--muted)}

/* fila de item */
.row-pro{display:grid;grid-template-columns:auto auto 1fr auto;align-items:center;gap:12px;padding:10px 12px}
.row-pro + .row-pro{border-top:1px solid #f0f3f7}
.check-lg{width:46px;height:46px}
.qty-stepper{display:flex;align-items:center;gap:8px}
.qty-stepper .qty{min-width:36px;text-align:center;font-weight:900}
.info .title{font-weight:800}
.info .title.purchased{text-decoration:line-through;opacity:.7}
.info .title .muted{color:var(--muted);font-weight:600}
.info .meta{font-size:12px;color:var(--muted);margin-top:2px}
.actions{display:flex;align-items:center;gap:8px}

/* empty */
.empty{display:grid;place-items:center;padding:36px 10px}
.empty-card{border:1px dashed #e7edf5;background:var(--surface-2);border-radius:18px;padding:18px 14px;text-align:center}
.empty-title{font-weight:900;margin-bottom:6px}

/* bulk dock (sticky al fondo) */
.bulk-dock{position:sticky;bottom:10px;display:flex;flex-wrap:wrap;justify-content:space-between;gap:10px;margin-top:14px;padding:10px;border-radius:16px;background:var(--surface-1);border:1px solid #e7edf5;box-shadow:0 14px 36px rgba(0,0,0,.08)}
.dock-left,.dock-right{display:flex;flex-wrap:wrap;align-items:center;gap:8px}
/* =========================================================
   RECIPES – premium styles
   ========================================================= */

.recipes-wrap{display:grid;gap:12px}
.recipes-toolbar{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 8px}
.recipes-list{display:grid;gap:12px}

/* toolbar */
.tool{display:flex;align-items:center;gap:8px}
.tool.checkbox{font-size:13px;color:var(--muted)}
.tool .tool-icon{width:16px;height:16px;color:var(--muted)}
.tool.search{position:relative;min-width:280px;flex:1}
.tool.search .search-input{padding-left:2.1rem}
.tool.search .tool-icon{position:absolute;left:.6rem;top:50%;transform:translateY(-50%)}

/* segments (reuse de shopping) */
.seg-group{display:inline-flex;gap:6px;background:var(--surface-2);border:1px solid #e6ebf2;border-radius:12px;padding:4px}
.seg{padding:.35rem .6rem;border-radius:10px;font-weight:800;font-size:13px;color:var(--text)}
.seg[aria-checked="true"]{background:var(--brand);color:#062411;box-shadow:0 8px 18px rgba(22,163,74,.25)}

/* cards */
.recipe-card{
  background:var(--surface-1);border:1px solid #e7edf5;border-radius:18px;
  box-shadow:var(--shadow-soft);padding:14px 14px 12px;
}
.rc-head{display:flex;align-items:center;justify-content:space-between}
.rc-title{font-weight:900}
.rc-meta{display:flex;flex-wrap:wrap;gap:6px;margin:8px 0}
.pill{display:inline-flex;align-items:center;gap:6px;padding:.3rem .55rem;border-radius:999px;background:var(--surface-2);border:1px solid #e6ebf2;font-size:12px;font-weight:800;color:var(--muted)}
.pill.score{color:#062411;background:var(--brand)}

.rc-row{display:grid;grid-template-columns: 1fr 1fr;gap:10px;margin:8px 0}
@media (max-width:720px){.rc-row{grid-template-columns:1fr}}
.chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}
.chip{font-size:12px;padding:.25rem .5rem;border-radius:999px;background:var(--surface-2);border:1px solid #e6ebf2}
.chip.ok{background: color-mix(in oklab, var(--success) 14%, #fff); border-color: color-mix(in oklab, var(--success) 24%, #e6ebf2); color:#065f46;font-weight:800}
.chip.warn{background: color-mix(in oklab, var(--warning) 14%, #fff); border-color: color-mix(in oklab, var(--warning) 24%, #e6ebf2); color:#7c2d12;font-weight:800}

/* actions */
.rc-actions{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:8px}
.servings{display:flex;align-items:center;gap:8px}
.servings .qty{min-width:36px;text-align:center;font-weight:900}
.rc-buttons{display:flex;gap:8px;flex-wrap:wrap}

.rc-steps{margin-top:6px}
.rc-steps summary{cursor:pointer;font-weight:800}
.rc-steps ol{margin:6px 0 0 18px; display:grid; gap:6px}
/* =========================================================
   INVENTORY – premium styles
   ========================================================= */

.inventory-wrap{display:grid;gap:12px}
.inv-toolbar{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 8px}

/* reutiliza .tool, .seg-group, .seg, .search-input del resto */
.inv-add{grid-template-columns:1fr 120px 130px 150px 150px}

/* fila inventario */
.inv-row .meta{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px}
.badge{display:inline-flex;align-items:center;gap:6px;padding:.25rem .55rem;border-radius:10px;border:1px solid #e6ebf2;background:var(--surface-2);font-size:12px;font-weight:800}
.badge.ok{background: color-mix(in oklab, var(--brand) 12%, #fff); color:#0a3b19}
.badge.warn{background: color-mix(in oklab, var(--danger) 12%, #fff); color:#6b1111}
.badge.neutral{color:var(--muted)}
.inv-chip{background:#f1f5f9;border-color:#e6ebf2;font-weight:800}
